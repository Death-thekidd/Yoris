{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport PropTypes from 'prop-types';\nimport Day from \"./Day\";\nimport moment from 'moment';\nimport styles from \"./styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar VIEW_INDEX = 2;\n\nfunction getNumberOfWeeks(month, weekStart) {\n  var firstDay = moment(month).startOf('month').day();\n  var offset = (firstDay - weekStart + 7) % 7;\n  var days = moment(month).daysInMonth();\n  return Math.ceil((offset + days) / 7);\n}\n\nvar Calendar = function (_Component) {\n  _inherits(Calendar, _Component);\n\n  var _super = _createSuper(Calendar);\n\n  function Calendar() {\n    var _this;\n\n    _classCallCheck(this, Calendar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      currentMoment: moment(_this.props.startDate),\n      selectedMoment: _this.props.selectedDate && moment(_this.props.selectedDate),\n      rowHeight: null,\n      containerWidth: null\n    };\n\n    _this.onPrev = function () {\n      var newMoment = _this.props.calendarFormat === 'monthly' ? moment(_this.state.currentMoment).subtract(1, 'month') : moment(_this.state.currentMoment).subtract(1, 'week');\n\n      _this.setState({\n        currentMoment: newMoment\n      });\n\n      _this.props.onTouchPrev && _this.props.onTouchPrev(newMoment);\n    };\n\n    _this.onNext = function () {\n      var newMoment = _this.props.calendarFormat === 'monthly' ? moment(_this.state.currentMoment).add(1, 'month') : moment(_this.state.currentMoment).add(1, 'week');\n\n      _this.setState({\n        currentMoment: newMoment\n      });\n\n      _this.props.onTouchNext && _this.props.onTouchNext(newMoment);\n    };\n\n    _this.onWeekRowLayout = function (event) {\n      if (_this.state.rowHeight !== event.nativeEvent.layout.height) {\n        _this.setState({\n          rowHeight: event.nativeEvent.layout.height\n        });\n      }\n    };\n\n    _this.onContainerLayout = function (event) {\n      if (_this.state.containerWidth !== event.nativeEvent.layout.width) {\n        _this.setState({\n          containerWidth: event.nativeEvent.layout.width\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Calendar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        return _this2.scrollToItem(VIEW_INDEX);\n      }, 0);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.scrollToItem(VIEW_INDEX);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.selectedDate && this.props.selectedDate !== nextProps.selectedDate) {\n        this.setState({\n          selectedMoment: nextProps.selectedDate\n        });\n      }\n\n      if (nextProps.currentMonth) {\n        this.setState({\n          currentMoment: moment(nextProps.currentMonth)\n        });\n      }\n    }\n  }, {\n    key: \"getStack\",\n    value: function getStack(currentMoment) {\n      if (this.props.scrollEnabled) {\n        var i = -VIEW_INDEX;\n        var res = [];\n\n        for (i; i <= VIEW_INDEX; i++) {\n          if (this.props.calendarFormat === 'monthly') {\n            res.push(moment(currentMoment).add(i, 'month'));\n          } else {\n            res.push(moment(currentMoment).add(i, 'week'));\n          }\n        }\n\n        return res;\n      }\n\n      return [moment(currentMoment)];\n    }\n  }, {\n    key: \"prepareEventDates\",\n    value: function prepareEventDates(eventDates, events) {\n      var parsedDates = {};\n\n      if (events) {\n        events.forEach(function (event) {\n          if (event.date) {\n            parsedDates[event.date] = event;\n          }\n        });\n      } else {\n        eventDates.forEach(function (event) {\n          parsedDates[event] = {};\n        });\n      }\n\n      return parsedDates;\n    }\n  }, {\n    key: \"selectDate\",\n    value: function selectDate(date) {\n      if (this.props.selectedDate === undefined) {\n        this.setState({\n          selectedMoment: date,\n          currentMoment: date\n        });\n      }\n    }\n  }, {\n    key: \"selectAndJumpToToday\",\n    value: function selectAndJumpToToday() {\n      var today = new Date();\n      var newMoment = moment(this.state.currentMoment).set('month', today.getMonth());\n      this.setState({\n        selectedMoment: today,\n        currentMoment: newMoment\n      });\n    }\n  }, {\n    key: \"scrollToItem\",\n    value: function scrollToItem(itemIndex) {\n      var containerWidth = this.state.containerWidth;\n\n      if (containerWidth == null) {\n        return;\n      }\n\n      var scrollToX = itemIndex * containerWidth;\n\n      if (this.props.scrollEnabled && this._calendar) {\n        this._calendar.scrollTo({\n          y: 0,\n          x: scrollToX,\n          animated: false\n        });\n      }\n    }\n  }, {\n    key: \"scrollEnded\",\n    value: function scrollEnded(event) {\n      var containerWidth = this.state.containerWidth;\n\n      if (containerWidth == null) {\n        return;\n      }\n\n      var position = event.nativeEvent.contentOffset.x;\n      var currentPage = position / containerWidth;\n      var newMoment = this.props.calendarFormat === 'monthly' ? moment(this.state.currentMoment).add(currentPage - VIEW_INDEX, 'month') : moment(this.state.currentMoment).add(currentPage - VIEW_INDEX, 'week');\n      this.setState({\n        currentMoment: newMoment\n      });\n\n      if (currentPage < VIEW_INDEX) {\n        this.props.onSwipePrev && this.props.onSwipePrev(newMoment);\n      } else if (currentPage > VIEW_INDEX) {\n        this.props.onSwipeNext && this.props.onSwipeNext(newMoment);\n      }\n    }\n  }, {\n    key: \"getStartMoment\",\n    value: function getStartMoment(calFormat, currMoment) {\n      var weekStart = this.props.weekStart;\n      var res;\n\n      if (calFormat === 'monthly') {\n        res = moment(currMoment).startOf('month');\n      } else {\n        var sundayMoment = moment(currMoment).startOf('week');\n\n        if (weekStart > 0) {\n          res = moment(currMoment).isoWeekday(weekStart);\n\n          if (res.diff(currMoment) > 0) {\n            res = moment(currMoment).subtract(7, 'day').isoWeekday(weekStart);\n          }\n        } else {\n          res = sundayMoment;\n        }\n      }\n\n      return res;\n    }\n  }, {\n    key: \"renderCalendarView\",\n    value: function renderCalendarView(calFormat, argMoment, eventsMap) {\n      var _this3 = this;\n\n      var renderIndex = 0,\n          weekRows = [],\n          days = [];\n      var startOfArgMoment = this.getStartMoment(calFormat, argMoment),\n          selectedMoment = moment(this.state.selectedMoment),\n          weekStart = this.props.weekStart,\n          todayMoment = moment(this.props.today),\n          todayIndex = todayMoment.date() - 1,\n          argDaysCount = calFormat === 'monthly' ? argMoment.daysInMonth() : 7,\n          offset = calFormat === 'monthly' ? (startOfArgMoment.isoWeekday() - weekStart + 7) % 7 : 0,\n          selectedIndex = moment(selectedMoment).date() - 1;\n\n      var _loop = function _loop() {\n        var dayIndex = renderIndex - offset;\n        var isoWeekday = (renderIndex + weekStart) % 7;\n        var thisMoment = moment(startOfArgMoment).add(dayIndex, 'day');\n\n        if (dayIndex >= 0 && dayIndex < argDaysCount) {\n          days.push(_this3.renderDay({\n            startOfMonth: startOfArgMoment,\n            isWeekend: isoWeekday === 0 || isoWeekday === 6,\n            key: renderIndex,\n            onPress: function onPress() {\n              _this3.selectDate(thisMoment);\n\n              _this3.props.onDateSelect && _this3.props.onDateSelect(thisMoment ? thisMoment.format() : null);\n            },\n            onLongPress: function onLongPress() {\n              _this3.selectDate(thisMoment);\n\n              _this3.props.onDateLongPress && _this3.props.onDateLongPress(thisMoment ? thisMoment.format() : null);\n            },\n            caption: thisMoment.format('D'),\n            isToday: todayMoment.format('YYYY-MM-DD') === thisMoment.format('YYYY-MM-DD'),\n            isSelected: selectedMoment.isSame(thisMoment),\n            event: eventsMap[thisMoment.format('YYYY-MM-DD')] || eventsMap[thisMoment.format('YYYYMMDD')],\n            showEventIndicators: _this3.props.showEventIndicators,\n            customStyle: _this3.props.customStyle\n          }));\n        } else {\n          days.push(_this3.renderDay({\n            key: renderIndex,\n            filler: true,\n            customStyle: _this3.props.customStyle\n          }));\n        }\n\n        if (renderIndex % 7 === 6) {\n          weekRows.push(_jsx(View, {\n            onLayout: weekRows.length ? undefined : _this3.onWeekRowLayout,\n            style: [styles.weekRow, _this3.props.customStyle.weekRow],\n            children: days\n          }, weekRows.length));\n          days = [];\n\n          if (dayIndex + 1 >= argDaysCount) {\n            return \"break\";\n          }\n        }\n\n        renderIndex += 1;\n      };\n\n      do {\n        var _ret = _loop();\n\n        if (_ret === \"break\") break;\n      } while (true);\n\n      var containerStyle = [styles.monthContainer, {\n        width: this.state.containerWidth\n      }, this.props.customStyle.monthContainer];\n      return _jsx(View, {\n        style: containerStyle,\n        children: weekRows\n      }, startOfArgMoment.format('YYYY-MM-DD') + \"-\" + calFormat);\n    }\n  }, {\n    key: \"renderDay\",\n    value: function renderDay(props) {\n      if (this.props.renderDay) {\n        return this.props.renderDay(props);\n      }\n\n      return _jsx(Day, _objectSpread({}, props));\n    }\n  }, {\n    key: \"renderHeading\",\n    value: function renderHeading() {\n      var headings = [];\n      var i = 0;\n\n      for (i; i < 7; ++i) {\n        var j = (i + this.props.weekStart) % 7;\n        headings.push(_jsx(Text, {\n          style: j === 0 || j === 6 ? [styles.weekendHeading, this.props.customStyle.weekendHeading] : [styles.dayHeading, this.props.customStyle.dayHeading],\n          children: this.props.dayHeadings[j]\n        }, i));\n      }\n\n      return _jsx(View, {\n        style: [styles.calendarHeading, this.props.customStyle.calendarHeading],\n        children: headings\n      });\n    }\n  }, {\n    key: \"renderTopBar\",\n    value: function renderTopBar() {\n      var _this4 = this;\n\n      var localizedMonth = this.props.monthNames[this.state.currentMoment.month()];\n      return this.props.showControls ? _jsxs(View, {\n        style: [styles.calendarControls, this.props.customStyle.calendarControls],\n        children: [_jsx(TouchableOpacity, {\n          style: [styles.controlButton, this.props.customStyle.controlButton],\n          onPress: this.onPrev,\n          children: _jsx(Text, {\n            style: [styles.controlButtonText, this.props.customStyle.controlButtonText],\n            children: this.props.prevButtonText\n          })\n        }), _jsx(TouchableOpacity, {\n          style: styles.title,\n          onPress: function onPress() {\n            return _this4.props.onTitlePress && _this4.props.onTitlePress();\n          },\n          children: _jsxs(Text, {\n            style: [styles.titleText, this.props.customStyle.title],\n            children: [localizedMonth, \" \", this.state.currentMoment.year()]\n          })\n        }), _jsx(TouchableOpacity, {\n          style: [styles.controlButton, this.props.customStyle.controlButton],\n          onPress: this.onNext,\n          children: _jsx(Text, {\n            style: [styles.controlButtonText, this.props.customStyle.controlButtonText],\n            children: this.props.nextButtonText\n          })\n        })]\n      }) : _jsx(View, {\n        style: [styles.calendarControls, this.props.customStyle.calendarControls],\n        children: _jsx(Text, {\n          style: [styles.title, this.props.customStyle.title],\n          children: this.state.currentMoment.format(this.props.titleFormat)\n        })\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var containerStyle = [styles.calendarContainer, this.props.customStyle.calendarContainer];\n\n      if (this.state.containerWidth == null) {\n        return _jsx(View, {\n          onLayout: this.onContainerLayout,\n          style: containerStyle\n        });\n      }\n\n      var calendarDates = this.getStack(this.state.currentMoment);\n      var eventDatesMap = this.prepareEventDates(this.props.eventDates, this.props.events);\n      var numOfWeeks = this.props.calendarFormat === 'weekly' ? 1 : getNumberOfWeeks(this.state.currentMoment, this.props.weekStart);\n      return _jsxs(View, {\n        onLayout: this.onContainerLayout,\n        style: containerStyle,\n        children: [this.renderTopBar(), this.renderHeading(this.props.titleFormat), this.props.scrollEnabled ? _jsx(ScrollView, {\n          ref: function ref(calendar) {\n            return _this5._calendar = calendar;\n          },\n          horizontal: true,\n          scrollEnabled: true,\n          pagingEnabled: true,\n          removeClippedSubviews: this.props.removeClippedSubviews,\n          scrollEventThrottle: 1000,\n          showsHorizontalScrollIndicator: false,\n          automaticallyAdjustContentInsets: false,\n          onMomentumScrollEnd: function onMomentumScrollEnd(event) {\n            return _this5.scrollEnded(event);\n          },\n          style: {\n            height: this.state.rowHeight ? this.state.rowHeight * numOfWeeks : null\n          },\n          children: calendarDates.map(function (date) {\n            return _this5.renderCalendarView(_this5.props.calendarFormat, moment(date), eventDatesMap);\n          })\n        }) : _jsx(View, {\n          ref: function ref(calendar) {\n            return _this5._calendar = calendar;\n          },\n          children: calendarDates.map(function (date) {\n            return _this5.renderCalendarView(_this5.props.calendarFormat, moment(date), eventDatesMap);\n          })\n        })]\n      });\n    }\n  }]);\n\n  return Calendar;\n}(Component);\n\nCalendar.propTypes = {\n  currentMonth: PropTypes.any,\n  customStyle: PropTypes.object,\n  dayHeadings: PropTypes.array,\n  eventDates: PropTypes.array,\n  monthNames: PropTypes.array,\n  nextButtonText: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  onDateSelect: PropTypes.func,\n  onDateLongPress: PropTypes.func,\n  onSwipeNext: PropTypes.func,\n  onSwipePrev: PropTypes.func,\n  onTouchNext: PropTypes.func,\n  onTouchPrev: PropTypes.func,\n  onTitlePress: PropTypes.func,\n  prevButtonText: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  removeClippedSubviews: PropTypes.bool,\n  scrollEnabled: PropTypes.bool,\n  selectedDate: PropTypes.any,\n  showControls: PropTypes.bool,\n  showEventIndicators: PropTypes.bool,\n  startDate: PropTypes.any,\n  titleFormat: PropTypes.string,\n  today: PropTypes.any,\n  weekStart: PropTypes.number,\n  calendarFormat: PropTypes.string\n};\nCalendar.defaultProps = {\n  customStyle: {},\n  dayHeadings: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  eventDates: [],\n  monthNames: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  nextButtonText: 'Next',\n  prevButtonText: 'Prev',\n  removeClippedSubviews: true,\n  scrollEnabled: false,\n  showControls: false,\n  showEventIndicators: false,\n  startDate: moment().format('YYYY-MM-DD'),\n  titleFormat: 'MMMM YYYY',\n  weekStart: 1,\n  calendarFormat: 'monthly'\n};\nexport { Calendar as default };","map":{"version":3,"names":["React","Component","PropTypes","Day","moment","styles","VIEW_INDEX","getNumberOfWeeks","month","weekStart","firstDay","startOf","day","offset","days","daysInMonth","Math","ceil","Calendar","state","currentMoment","props","startDate","selectedMoment","selectedDate","rowHeight","containerWidth","onPrev","newMoment","calendarFormat","subtract","setState","onTouchPrev","onNext","add","onTouchNext","onWeekRowLayout","event","nativeEvent","layout","height","onContainerLayout","width","setTimeout","scrollToItem","nextProps","currentMonth","scrollEnabled","i","res","push","eventDates","events","parsedDates","forEach","date","undefined","today","Date","set","getMonth","itemIndex","scrollToX","_calendar","scrollTo","y","x","animated","position","contentOffset","currentPage","onSwipePrev","onSwipeNext","calFormat","currMoment","sundayMoment","isoWeekday","diff","argMoment","eventsMap","renderIndex","weekRows","startOfArgMoment","getStartMoment","todayMoment","todayIndex","argDaysCount","selectedIndex","dayIndex","thisMoment","renderDay","startOfMonth","isWeekend","key","onPress","selectDate","onDateSelect","format","onLongPress","onDateLongPress","caption","isToday","isSelected","isSame","showEventIndicators","customStyle","filler","length","weekRow","containerStyle","monthContainer","headings","j","weekendHeading","dayHeading","dayHeadings","calendarHeading","localizedMonth","monthNames","showControls","calendarControls","controlButton","controlButtonText","prevButtonText","title","onTitlePress","titleText","year","nextButtonText","titleFormat","calendarContainer","calendarDates","getStack","eventDatesMap","prepareEventDates","numOfWeeks","renderTopBar","renderHeading","calendar","removeClippedSubviews","scrollEnded","map","renderCalendarView","propTypes","any","object","array","oneOfType","string","func","bool","number","defaultProps"],"sources":["C:/Users/acer/Desktop/Yoris/node_modules/react-native-calendar/components/Calendar.js"],"sourcesContent":["import React, { Component } from 'react';\nimport {\n  Dimensions,\n  ScrollView,\n  Text,\n  TouchableOpacity,\n  View,\n} from 'react-native';\nimport PropTypes from 'prop-types';\n\nimport Day from './Day';\n\nimport moment from 'moment';\nimport styles from './styles';\n\nconst VIEW_INDEX = 2;\n\nfunction getNumberOfWeeks(month, weekStart) {\n  const firstDay = moment(month).startOf('month').day();\n  const offset = (firstDay - weekStart + 7) % 7;\n  const days = moment(month).daysInMonth();\n  return Math.ceil((offset + days) / 7);\n}\n\nexport default class Calendar extends Component {\n\n  state = {\n    currentMoment: moment(this.props.startDate),\n    selectedMoment: this.props.selectedDate && moment(this.props.selectedDate),\n    rowHeight: null,\n    containerWidth: null,\n  };\n\n  static propTypes = {\n    currentMonth: PropTypes.any,\n    customStyle: PropTypes.object,\n    dayHeadings: PropTypes.array,\n    eventDates: PropTypes.array,\n    monthNames: PropTypes.array,\n    nextButtonText: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.object\n    ]),\n    onDateSelect: PropTypes.func,\n    onDateLongPress: PropTypes.func,\n    onSwipeNext: PropTypes.func,\n    onSwipePrev: PropTypes.func,\n    onTouchNext: PropTypes.func,\n    onTouchPrev: PropTypes.func,\n    onTitlePress: PropTypes.func,\n    prevButtonText: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.object\n    ]),\n    removeClippedSubviews: PropTypes.bool,\n    scrollEnabled: PropTypes.bool,\n    selectedDate: PropTypes.any,\n    showControls: PropTypes.bool,\n    showEventIndicators: PropTypes.bool,\n    startDate: PropTypes.any,\n    titleFormat: PropTypes.string,\n    today: PropTypes.any,\n    weekStart: PropTypes.number,\n    calendarFormat: PropTypes.string\n  };\n\n  static defaultProps = {\n    customStyle: {},\n    dayHeadings: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n    eventDates: [],\n    monthNames: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',\n      'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n    nextButtonText: 'Next',\n    prevButtonText: 'Prev',\n    removeClippedSubviews: true,\n    scrollEnabled: false,\n    showControls: false,\n    showEventIndicators: false,\n    startDate: moment().format('YYYY-MM-DD'),\n    titleFormat: 'MMMM YYYY',\n    weekStart: 1,\n    calendarFormat: 'monthly' // weekly or monthly\n  };\n\n  componentDidMount() {\n    // fixes initial scrolling bug on Android\n    setTimeout(() => this.scrollToItem(VIEW_INDEX), 0);\n  }\n\n  componentDidUpdate() {\n    this.scrollToItem(VIEW_INDEX);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.selectedDate && this.props.selectedDate !== nextProps.selectedDate) {\n      this.setState({ selectedMoment: nextProps.selectedDate });\n    }\n    if (nextProps.currentMonth) {\n      this.setState({ currentMoment: moment(nextProps.currentMonth) });\n    }\n  }\n\n  getStack(currentMoment) {\n    if (this.props.scrollEnabled) {\n      let i = -VIEW_INDEX;\n      const res = [];\n\n      for (i; i <= VIEW_INDEX; i++) {\n        if (this.props.calendarFormat === 'monthly') {\n          res.push(moment(currentMoment).add(i, 'month'));\n        } else {\n          res.push(moment(currentMoment).add(i, 'week'));\n        }\n      }\n      return res;\n    }\n    return [moment(currentMoment)];\n  }\n\n  prepareEventDates(eventDates, events) {\n    const parsedDates = {};\n\n    if (events) {\n      events.forEach(event => {\n        if (event.date) {\n          parsedDates[event.date] = event;\n        }\n      });\n    } else {\n      eventDates.forEach(event => {\n        parsedDates[event] = {};\n      });\n    }\n\n    return parsedDates;\n  }\n\n  selectDate(date) {\n    if (this.props.selectedDate === undefined) {\n      this.setState({ selectedMoment: date, currentMoment: date });\n    }\n  }\n\n  selectAndJumpToToday() {\n    const today = new Date();\n    const newMoment = moment(this.state.currentMoment).set('month', today.getMonth());\n    this.setState({\n      selectedMoment: today,\n      currentMoment: newMoment\n    });\n  }\n\n  onPrev = () => {\n    const newMoment = this.props.calendarFormat === 'monthly' ?\n      moment(this.state.currentMoment).subtract(1, 'month') :\n      moment(this.state.currentMoment).subtract(1, 'week');\n    this.setState({ currentMoment: newMoment });\n    this.props.onTouchPrev && this.props.onTouchPrev(newMoment);\n  }\n\n  onNext = () => {\n    const newMoment = this.props.calendarFormat === 'monthly' ?\n      moment(this.state.currentMoment).add(1, 'month') :\n      moment(this.state.currentMoment).add(1, 'week');\n    this.setState({ currentMoment: newMoment });\n    this.props.onTouchNext && this.props.onTouchNext(newMoment);\n  }\n\n  scrollToItem(itemIndex) {\n    const containerWidth = this.state.containerWidth;\n    if (containerWidth == null) {\n        return;\n    }\n    const scrollToX = itemIndex * containerWidth;\n    if (this.props.scrollEnabled && this._calendar) {\n      this._calendar.scrollTo({ y: 0, x: scrollToX, animated: false });\n    }\n  }\n\n  scrollEnded(event) {\n    const containerWidth = this.state.containerWidth;\n    if (containerWidth == null) {\n        return;\n    }\n    const position = event.nativeEvent.contentOffset.x;\n    const currentPage = position / containerWidth;\n    const newMoment = this.props.calendarFormat === 'monthly' ?\n      moment(this.state.currentMoment).add(currentPage - VIEW_INDEX, 'month') :\n      moment(this.state.currentMoment).add(currentPage - VIEW_INDEX, 'week');\n\n    this.setState({ currentMoment: newMoment });\n\n    if (currentPage < VIEW_INDEX) {\n      this.props.onSwipePrev && this.props.onSwipePrev(newMoment);\n    } else if (currentPage > VIEW_INDEX) {\n      this.props.onSwipeNext && this.props.onSwipeNext(newMoment);\n    }\n  }\n\n  onWeekRowLayout = (event) => {\n    if (this.state.rowHeight !== event.nativeEvent.layout.height) {\n      this.setState({ rowHeight: event.nativeEvent.layout.height });\n    }\n  }\n\n  getStartMoment(calFormat, currMoment) {\n    const weekStart = this.props.weekStart;\n\n    let res;\n    if (calFormat === 'monthly') {\n      res = moment(currMoment).startOf('month');\n    } else {\n      // weekly\n      let sundayMoment = moment(currMoment).startOf('week');\n      if (weekStart > 0) {\n        res = moment(currMoment).isoWeekday(weekStart);\n        if (res.diff(currMoment) > 0) {\n          res = moment(currMoment).subtract(7, 'day').isoWeekday(weekStart);\n        }\n      } else {\n        res = sundayMoment;\n      }\n    }\n    return res;\n  }\n\n  onContainerLayout = (event) => {\n    if (this.state.containerWidth !== event.nativeEvent.layout.width) {\n      this.setState({ containerWidth: event.nativeEvent.layout.width });\n    }\n  }\n\n  renderCalendarView(calFormat, argMoment, eventsMap) {\n    let renderIndex = 0,\n      weekRows = [],\n      days = [];\n\n    const startOfArgMoment = this.getStartMoment(calFormat, argMoment),\n      selectedMoment = moment(this.state.selectedMoment),\n      weekStart = this.props.weekStart,\n      todayMoment = moment(this.props.today),\n      todayIndex = todayMoment.date() - 1,\n      argDaysCount = calFormat === 'monthly' ? argMoment.daysInMonth() : 7,\n      offset = calFormat === 'monthly' ?\n        (startOfArgMoment.isoWeekday() - weekStart + 7) % 7 : 0,\n      selectedIndex = moment(selectedMoment).date() - 1;\n\n    do {\n      const dayIndex = renderIndex - offset;\n      const isoWeekday = (renderIndex + weekStart) % 7;\n      const thisMoment = moment(startOfArgMoment).add(dayIndex, 'day');\n\n      if (dayIndex >= 0 && dayIndex < argDaysCount) {\n        days.push((\n          this.renderDay({\n            startOfMonth: startOfArgMoment,\n            isWeekend: isoWeekday === 0 || isoWeekday === 6,\n            key: renderIndex,\n            onPress: () => {\n              this.selectDate(thisMoment);\n              this.props.onDateSelect && this.props.onDateSelect(thisMoment ? thisMoment.format() : null);\n            },\n            onLongPress: () => {\n              this.selectDate(thisMoment);\n              this.props.onDateLongPress && this.props.onDateLongPress(thisMoment ? thisMoment.format() : null);\n            },\n            caption: thisMoment.format('D'),\n            isToday: todayMoment.format('YYYY-MM-DD') === thisMoment.format('YYYY-MM-DD'),\n            isSelected: selectedMoment.isSame(thisMoment),\n            event: eventsMap[thisMoment.format('YYYY-MM-DD')] ||\n            eventsMap[thisMoment.format('YYYYMMDD')],\n            showEventIndicators: this.props.showEventIndicators,\n            customStyle: this.props.customStyle,\n          })\n        ));\n      } else {\n        days.push(\n          this.renderDay({\n            key: renderIndex,\n            filler: true,\n            customStyle: this.props.customStyle,\n          })\n        );\n      }\n      if (renderIndex % 7 === 6) {\n        weekRows.push(\n          <View\n            key={weekRows.length}\n            onLayout={weekRows.length ? undefined : this.onWeekRowLayout}\n            style={[styles.weekRow, this.props.customStyle.weekRow]}>\n            {days}\n          </View>);\n        days = [];\n        if (dayIndex + 1 >= argDaysCount) {\n          break;\n        }\n      }\n      renderIndex += 1;\n    } while (true)\n    const containerStyle = [\n        styles.monthContainer,\n        {width: this.state.containerWidth},\n        this.props.customStyle.monthContainer\n    ];\n    return <View key={`${startOfArgMoment.format('YYYY-MM-DD')}-${calFormat}`} style={containerStyle}>{weekRows}</View>;\n  }\n\n  renderDay(props) {\n    if (this.props.renderDay) {\n      return this.props.renderDay(props)\n    }\n    return <Day {...props} />\n  }\n\n  renderHeading() {\n    let headings = [];\n    let i = 0;\n\n    for (i; i < 7; ++i) {\n      const j = (i + this.props.weekStart) % 7;\n      headings.push(\n        <Text\n          key={i}\n          style={j === 0 || j === 6 ?\n            [styles.weekendHeading, this.props.customStyle.weekendHeading] :\n            [styles.dayHeading, this.props.customStyle.dayHeading]}\n        >\n          {this.props.dayHeadings[j]}\n        </Text>\n      );\n    }\n\n    return (\n      <View style={[styles.calendarHeading, this.props.customStyle.calendarHeading]}>\n        {headings}\n      </View>\n    );\n  }\n\n  renderTopBar() {\n    let localizedMonth = this.props.monthNames[this.state.currentMoment.month()];\n    return this.props.showControls\n      ? (\n        <View style={[styles.calendarControls, this.props.customStyle.calendarControls]}>\n          <TouchableOpacity\n            style={[styles.controlButton, this.props.customStyle.controlButton]}\n            onPress={this.onPrev}\n          >\n            <Text style={[styles.controlButtonText, this.props.customStyle.controlButtonText]}>\n              {this.props.prevButtonText}\n            </Text>\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.title} onPress={() => this.props.onTitlePress && this.props.onTitlePress()}>\n            <Text style={[styles.titleText, this.props.customStyle.title]}>\n              {localizedMonth} {this.state.currentMoment.year()}\n            </Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={[styles.controlButton, this.props.customStyle.controlButton]}\n            onPress={this.onNext}\n          >\n            <Text style={[styles.controlButtonText, this.props.customStyle.controlButtonText]}>\n              {this.props.nextButtonText}\n            </Text>\n          </TouchableOpacity>\n        </View>\n      )\n      : (\n        <View style={[styles.calendarControls, this.props.customStyle.calendarControls]}>\n          <Text style={[styles.title, this.props.customStyle.title]}>\n            {this.state.currentMoment.format(this.props.titleFormat)}\n          </Text>\n        </View>\n      );\n  }\n\n  render() {\n    const containerStyle = [\n        styles.calendarContainer,\n        this.props.customStyle.calendarContainer\n    ];\n    if (this.state.containerWidth == null) {\n        return <View onLayout={this.onContainerLayout} style={containerStyle} />;\n    }\n    const calendarDates = this.getStack(this.state.currentMoment);\n    const eventDatesMap = this.prepareEventDates(this.props.eventDates, this.props.events);\n    const numOfWeeks = this.props.calendarFormat === 'weekly' ? 1 :\n      getNumberOfWeeks(this.state.currentMoment, this.props.weekStart);\n\n    return (\n      <View onLayout={this.onContainerLayout} style={containerStyle}>\n        {this.renderTopBar()}\n        {this.renderHeading(this.props.titleFormat)}\n        {this.props.scrollEnabled ?\n          <ScrollView\n            ref={calendar => this._calendar = calendar}\n            horizontal\n            scrollEnabled\n            pagingEnabled\n            removeClippedSubviews={this.props.removeClippedSubviews}\n            scrollEventThrottle={1000}\n            showsHorizontalScrollIndicator={false}\n            automaticallyAdjustContentInsets={false}\n            onMomentumScrollEnd={(event) => this.scrollEnded(event)}\n            style={{\n              height: this.state.rowHeight ? this.state.rowHeight * numOfWeeks : null,\n            }}\n          >\n            {calendarDates.map((date) => this.renderCalendarView(this.props.calendarFormat, moment(date), eventDatesMap))}\n          </ScrollView>\n          :\n          <View ref={calendar => this._calendar = calendar}>\n            {calendarDates.map((date) => this.renderCalendarView(this.props.calendarFormat, moment(date), eventDatesMap))}\n          </View>\n        }\n      </View>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;;;;;AAQA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAOC,GAAP;AAEA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,MAAP;;;AAEA,IAAMC,UAAU,GAAG,CAAnB;;AAEA,SAASC,gBAAT,CAA0BC,KAA1B,EAAiCC,SAAjC,EAA4C;EAC1C,IAAMC,QAAQ,GAAGN,MAAM,CAACI,KAAD,CAAN,CAAcG,OAAd,CAAsB,OAAtB,EAA+BC,GAA/B,EAAjB;EACA,IAAMC,MAAM,GAAG,CAACH,QAAQ,GAAGD,SAAX,GAAuB,CAAxB,IAA6B,CAA5C;EACA,IAAMK,IAAI,GAAGV,MAAM,CAACI,KAAD,CAAN,CAAcO,WAAd,EAAb;EACA,OAAOC,IAAI,CAACC,IAAL,CAAU,CAACJ,MAAM,GAAGC,IAAV,IAAkB,CAA5B,CAAP;AACD;;IAEoBI,Q;;;;;;;;;;;;;;;UAEnBC,K,GAAQ;MACNC,aAAa,EAAEhB,MAAM,CAAC,MAAKiB,KAAL,CAAWC,SAAZ,CADf;MAENC,cAAc,EAAE,MAAKF,KAAL,CAAWG,YAAX,IAA2BpB,MAAM,CAAC,MAAKiB,KAAL,CAAWG,YAAZ,CAF3C;MAGNC,SAAS,EAAE,IAHL;MAINC,cAAc,EAAE;IAJV,C;;UA8HRC,M,GAAS,YAAM;MACb,IAAMC,SAAS,GAAG,MAAKP,KAAL,CAAWQ,cAAX,KAA8B,SAA9B,GAChBzB,MAAM,CAAC,MAAKe,KAAL,CAAWC,aAAZ,CAAN,CAAiCU,QAAjC,CAA0C,CAA1C,EAA6C,OAA7C,CADgB,GAEhB1B,MAAM,CAAC,MAAKe,KAAL,CAAWC,aAAZ,CAAN,CAAiCU,QAAjC,CAA0C,CAA1C,EAA6C,MAA7C,CAFF;;MAGA,MAAKC,QAAL,CAAc;QAAEX,aAAa,EAAEQ;MAAjB,CAAd;;MACA,MAAKP,KAAL,CAAWW,WAAX,IAA0B,MAAKX,KAAL,CAAWW,WAAX,CAAuBJ,SAAvB,CAA1B;IACD,C;;UAEDK,M,GAAS,YAAM;MACb,IAAML,SAAS,GAAG,MAAKP,KAAL,CAAWQ,cAAX,KAA8B,SAA9B,GAChBzB,MAAM,CAAC,MAAKe,KAAL,CAAWC,aAAZ,CAAN,CAAiCc,GAAjC,CAAqC,CAArC,EAAwC,OAAxC,CADgB,GAEhB9B,MAAM,CAAC,MAAKe,KAAL,CAAWC,aAAZ,CAAN,CAAiCc,GAAjC,CAAqC,CAArC,EAAwC,MAAxC,CAFF;;MAGA,MAAKH,QAAL,CAAc;QAAEX,aAAa,EAAEQ;MAAjB,CAAd;;MACA,MAAKP,KAAL,CAAWc,WAAX,IAA0B,MAAKd,KAAL,CAAWc,WAAX,CAAuBP,SAAvB,CAA1B;IACD,C;;UAiCDQ,e,GAAkB,UAACC,KAAD,EAAW;MAC3B,IAAI,MAAKlB,KAAL,CAAWM,SAAX,KAAyBY,KAAK,CAACC,WAAN,CAAkBC,MAAlB,CAAyBC,MAAtD,EAA8D;QAC5D,MAAKT,QAAL,CAAc;UAAEN,SAAS,EAAEY,KAAK,CAACC,WAAN,CAAkBC,MAAlB,CAAyBC;QAAtC,CAAd;MACD;IACF,C;;UAuBDC,iB,GAAoB,UAACJ,KAAD,EAAW;MAC7B,IAAI,MAAKlB,KAAL,CAAWO,cAAX,KAA8BW,KAAK,CAACC,WAAN,CAAkBC,MAAlB,CAAyBG,KAA3D,EAAkE;QAChE,MAAKX,QAAL,CAAc;UAAEL,cAAc,EAAEW,KAAK,CAACC,WAAN,CAAkBC,MAAlB,CAAyBG;QAA3C,CAAd;MACD;IACF,C;;;;;;;WAlJD,6BAAoB;MAAA;;MAElBC,UAAU,CAAC;QAAA,OAAM,MAAI,CAACC,YAAL,CAAkBtC,UAAlB,CAAN;MAAA,CAAD,EAAsC,CAAtC,CAAV;IACD;;;WAED,8BAAqB;MACnB,KAAKsC,YAAL,CAAkBtC,UAAlB;IACD;;;WAED,mCAA0BuC,SAA1B,EAAqC;MACnC,IAAIA,SAAS,CAACrB,YAAV,IAA0B,KAAKH,KAAL,CAAWG,YAAX,KAA4BqB,SAAS,CAACrB,YAApE,EAAkF;QAChF,KAAKO,QAAL,CAAc;UAAER,cAAc,EAAEsB,SAAS,CAACrB;QAA5B,CAAd;MACD;;MACD,IAAIqB,SAAS,CAACC,YAAd,EAA4B;QAC1B,KAAKf,QAAL,CAAc;UAAEX,aAAa,EAAEhB,MAAM,CAACyC,SAAS,CAACC,YAAX;QAAvB,CAAd;MACD;IACF;;;WAED,kBAAS1B,aAAT,EAAwB;MACtB,IAAI,KAAKC,KAAL,CAAW0B,aAAf,EAA8B;QAC5B,IAAIC,CAAC,GAAG,CAAC1C,UAAT;QACA,IAAM2C,GAAG,GAAG,EAAZ;;QAEA,KAAKD,CAAL,EAAQA,CAAC,IAAI1C,UAAb,EAAyB0C,CAAC,EAA1B,EAA8B;UAC5B,IAAI,KAAK3B,KAAL,CAAWQ,cAAX,KAA8B,SAAlC,EAA6C;YAC3CoB,GAAG,CAACC,IAAJ,CAAS9C,MAAM,CAACgB,aAAD,CAAN,CAAsBc,GAAtB,CAA0Bc,CAA1B,EAA6B,OAA7B,CAAT;UACD,CAFD,MAEO;YACLC,GAAG,CAACC,IAAJ,CAAS9C,MAAM,CAACgB,aAAD,CAAN,CAAsBc,GAAtB,CAA0Bc,CAA1B,EAA6B,MAA7B,CAAT;UACD;QACF;;QACD,OAAOC,GAAP;MACD;;MACD,OAAO,CAAC7C,MAAM,CAACgB,aAAD,CAAP,CAAP;IACD;;;WAED,2BAAkB+B,UAAlB,EAA8BC,MAA9B,EAAsC;MACpC,IAAMC,WAAW,GAAG,EAApB;;MAEA,IAAID,MAAJ,EAAY;QACVA,MAAM,CAACE,OAAP,CAAe,UAAAjB,KAAK,EAAI;UACtB,IAAIA,KAAK,CAACkB,IAAV,EAAgB;YACdF,WAAW,CAAChB,KAAK,CAACkB,IAAP,CAAX,GAA0BlB,KAA1B;UACD;QACF,CAJD;MAKD,CAND,MAMO;QACLc,UAAU,CAACG,OAAX,CAAmB,UAAAjB,KAAK,EAAI;UAC1BgB,WAAW,CAAChB,KAAD,CAAX,GAAqB,EAArB;QACD,CAFD;MAGD;;MAED,OAAOgB,WAAP;IACD;;;WAED,oBAAWE,IAAX,EAAiB;MACf,IAAI,KAAKlC,KAAL,CAAWG,YAAX,KAA4BgC,SAAhC,EAA2C;QACzC,KAAKzB,QAAL,CAAc;UAAER,cAAc,EAAEgC,IAAlB;UAAwBnC,aAAa,EAAEmC;QAAvC,CAAd;MACD;IACF;;;WAED,gCAAuB;MACrB,IAAME,KAAK,GAAG,IAAIC,IAAJ,EAAd;MACA,IAAM9B,SAAS,GAAGxB,MAAM,CAAC,KAAKe,KAAL,CAAWC,aAAZ,CAAN,CAAiCuC,GAAjC,CAAqC,OAArC,EAA8CF,KAAK,CAACG,QAAN,EAA9C,CAAlB;MACA,KAAK7B,QAAL,CAAc;QACZR,cAAc,EAAEkC,KADJ;QAEZrC,aAAa,EAAEQ;MAFH,CAAd;IAID;;;WAkBD,sBAAaiC,SAAb,EAAwB;MACtB,IAAMnC,cAAc,GAAG,KAAKP,KAAL,CAAWO,cAAlC;;MACA,IAAIA,cAAc,IAAI,IAAtB,EAA4B;QACxB;MACH;;MACD,IAAMoC,SAAS,GAAGD,SAAS,GAAGnC,cAA9B;;MACA,IAAI,KAAKL,KAAL,CAAW0B,aAAX,IAA4B,KAAKgB,SAArC,EAAgD;QAC9C,KAAKA,SAAL,CAAeC,QAAf,CAAwB;UAAEC,CAAC,EAAE,CAAL;UAAQC,CAAC,EAAEJ,SAAX;UAAsBK,QAAQ,EAAE;QAAhC,CAAxB;MACD;IACF;;;WAED,qBAAY9B,KAAZ,EAAmB;MACjB,IAAMX,cAAc,GAAG,KAAKP,KAAL,CAAWO,cAAlC;;MACA,IAAIA,cAAc,IAAI,IAAtB,EAA4B;QACxB;MACH;;MACD,IAAM0C,QAAQ,GAAG/B,KAAK,CAACC,WAAN,CAAkB+B,aAAlB,CAAgCH,CAAjD;MACA,IAAMI,WAAW,GAAGF,QAAQ,GAAG1C,cAA/B;MACA,IAAME,SAAS,GAAG,KAAKP,KAAL,CAAWQ,cAAX,KAA8B,SAA9B,GAChBzB,MAAM,CAAC,KAAKe,KAAL,CAAWC,aAAZ,CAAN,CAAiCc,GAAjC,CAAqCoC,WAAW,GAAGhE,UAAnD,EAA+D,OAA/D,CADgB,GAEhBF,MAAM,CAAC,KAAKe,KAAL,CAAWC,aAAZ,CAAN,CAAiCc,GAAjC,CAAqCoC,WAAW,GAAGhE,UAAnD,EAA+D,MAA/D,CAFF;MAIA,KAAKyB,QAAL,CAAc;QAAEX,aAAa,EAAEQ;MAAjB,CAAd;;MAEA,IAAI0C,WAAW,GAAGhE,UAAlB,EAA8B;QAC5B,KAAKe,KAAL,CAAWkD,WAAX,IAA0B,KAAKlD,KAAL,CAAWkD,WAAX,CAAuB3C,SAAvB,CAA1B;MACD,CAFD,MAEO,IAAI0C,WAAW,GAAGhE,UAAlB,EAA8B;QACnC,KAAKe,KAAL,CAAWmD,WAAX,IAA0B,KAAKnD,KAAL,CAAWmD,WAAX,CAAuB5C,SAAvB,CAA1B;MACD;IACF;;;WAQD,wBAAe6C,SAAf,EAA0BC,UAA1B,EAAsC;MACpC,IAAMjE,SAAS,GAAG,KAAKY,KAAL,CAAWZ,SAA7B;MAEA,IAAIwC,GAAJ;;MACA,IAAIwB,SAAS,KAAK,SAAlB,EAA6B;QAC3BxB,GAAG,GAAG7C,MAAM,CAACsE,UAAD,CAAN,CAAmB/D,OAAnB,CAA2B,OAA3B,CAAN;MACD,CAFD,MAEO;QAEL,IAAIgE,YAAY,GAAGvE,MAAM,CAACsE,UAAD,CAAN,CAAmB/D,OAAnB,CAA2B,MAA3B,CAAnB;;QACA,IAAIF,SAAS,GAAG,CAAhB,EAAmB;UACjBwC,GAAG,GAAG7C,MAAM,CAACsE,UAAD,CAAN,CAAmBE,UAAnB,CAA8BnE,SAA9B,CAAN;;UACA,IAAIwC,GAAG,CAAC4B,IAAJ,CAASH,UAAT,IAAuB,CAA3B,EAA8B;YAC5BzB,GAAG,GAAG7C,MAAM,CAACsE,UAAD,CAAN,CAAmB5C,QAAnB,CAA4B,CAA5B,EAA+B,KAA/B,EAAsC8C,UAAtC,CAAiDnE,SAAjD,CAAN;UACD;QACF,CALD,MAKO;UACLwC,GAAG,GAAG0B,YAAN;QACD;MACF;;MACD,OAAO1B,GAAP;IACD;;;WAQD,4BAAmBwB,SAAnB,EAA8BK,SAA9B,EAAyCC,SAAzC,EAAoD;MAAA;;MAClD,IAAIC,WAAW,GAAG,CAAlB;MAAA,IACEC,QAAQ,GAAG,EADb;MAAA,IAEEnE,IAAI,GAAG,EAFT;MAIA,IAAMoE,gBAAgB,GAAG,KAAKC,cAAL,CAAoBV,SAApB,EAA+BK,SAA/B,CAAzB;MAAA,IACEvD,cAAc,GAAGnB,MAAM,CAAC,KAAKe,KAAL,CAAWI,cAAZ,CADzB;MAAA,IAEEd,SAAS,GAAG,KAAKY,KAAL,CAAWZ,SAFzB;MAAA,IAGE2E,WAAW,GAAGhF,MAAM,CAAC,KAAKiB,KAAL,CAAWoC,KAAZ,CAHtB;MAAA,IAIE4B,UAAU,GAAGD,WAAW,CAAC7B,IAAZ,KAAqB,CAJpC;MAAA,IAKE+B,YAAY,GAAGb,SAAS,KAAK,SAAd,GAA0BK,SAAS,CAAC/D,WAAV,EAA1B,GAAoD,CALrE;MAAA,IAMEF,MAAM,GAAG4D,SAAS,KAAK,SAAd,GACP,CAACS,gBAAgB,CAACN,UAAjB,KAAgCnE,SAAhC,GAA4C,CAA7C,IAAkD,CAD3C,GAC+C,CAP1D;MAAA,IAQE8E,aAAa,GAAGnF,MAAM,CAACmB,cAAD,CAAN,CAAuBgC,IAAvB,KAAgC,CARlD;;MALkD;QAgBhD,IAAMiC,QAAQ,GAAGR,WAAW,GAAGnE,MAA/B;QACA,IAAM+D,UAAU,GAAG,CAACI,WAAW,GAAGvE,SAAf,IAA4B,CAA/C;QACA,IAAMgF,UAAU,GAAGrF,MAAM,CAAC8E,gBAAD,CAAN,CAAyBhD,GAAzB,CAA6BsD,QAA7B,EAAuC,KAAvC,CAAnB;;QAEA,IAAIA,QAAQ,IAAI,CAAZ,IAAiBA,QAAQ,GAAGF,YAAhC,EAA8C;UAC5CxE,IAAI,CAACoC,IAAL,CACE,MAAI,CAACwC,SAAL,CAAe;YACbC,YAAY,EAAET,gBADD;YAEbU,SAAS,EAAEhB,UAAU,KAAK,CAAf,IAAoBA,UAAU,KAAK,CAFjC;YAGbiB,GAAG,EAAEb,WAHQ;YAIbc,OAAO,EAAE,mBAAM;cACb,MAAI,CAACC,UAAL,CAAgBN,UAAhB;;cACA,MAAI,CAACpE,KAAL,CAAW2E,YAAX,IAA2B,MAAI,CAAC3E,KAAL,CAAW2E,YAAX,CAAwBP,UAAU,GAAGA,UAAU,CAACQ,MAAX,EAAH,GAAyB,IAA3D,CAA3B;YACD,CAPY;YAQbC,WAAW,EAAE,uBAAM;cACjB,MAAI,CAACH,UAAL,CAAgBN,UAAhB;;cACA,MAAI,CAACpE,KAAL,CAAW8E,eAAX,IAA8B,MAAI,CAAC9E,KAAL,CAAW8E,eAAX,CAA2BV,UAAU,GAAGA,UAAU,CAACQ,MAAX,EAAH,GAAyB,IAA9D,CAA9B;YACD,CAXY;YAYbG,OAAO,EAAEX,UAAU,CAACQ,MAAX,CAAkB,GAAlB,CAZI;YAabI,OAAO,EAAEjB,WAAW,CAACa,MAAZ,CAAmB,YAAnB,MAAqCR,UAAU,CAACQ,MAAX,CAAkB,YAAlB,CAbjC;YAcbK,UAAU,EAAE/E,cAAc,CAACgF,MAAf,CAAsBd,UAAtB,CAdC;YAebpD,KAAK,EAAE0C,SAAS,CAACU,UAAU,CAACQ,MAAX,CAAkB,YAAlB,CAAD,CAAT,IACPlB,SAAS,CAACU,UAAU,CAACQ,MAAX,CAAkB,UAAlB,CAAD,CAhBI;YAiBbO,mBAAmB,EAAE,MAAI,CAACnF,KAAL,CAAWmF,mBAjBnB;YAkBbC,WAAW,EAAE,MAAI,CAACpF,KAAL,CAAWoF;UAlBX,CAAf,CADF;QAsBD,CAvBD,MAuBO;UACL3F,IAAI,CAACoC,IAAL,CACE,MAAI,CAACwC,SAAL,CAAe;YACbG,GAAG,EAAEb,WADQ;YAEb0B,MAAM,EAAE,IAFK;YAGbD,WAAW,EAAE,MAAI,CAACpF,KAAL,CAAWoF;UAHX,CAAf,CADF;QAOD;;QACD,IAAIzB,WAAW,GAAG,CAAd,KAAoB,CAAxB,EAA2B;UACzBC,QAAQ,CAAC/B,IAAT,CACE,KAAC,IAAD;YAEE,QAAQ,EAAE+B,QAAQ,CAAC0B,MAAT,GAAkBnD,SAAlB,GAA8B,MAAI,CAACpB,eAF/C;YAGE,KAAK,EAAE,CAAC/B,MAAM,CAACuG,OAAR,EAAiB,MAAI,CAACvF,KAAL,CAAWoF,WAAX,CAAuBG,OAAxC,CAHT;YAAA,UAIG9F;UAJH,GACOmE,QAAQ,CAAC0B,MADhB,CADF;UAOA7F,IAAI,GAAG,EAAP;;UACA,IAAI0E,QAAQ,GAAG,CAAX,IAAgBF,YAApB,EAAkC;YAChC;UACD;QACF;;QACDN,WAAW,IAAI,CAAf;MAjEgD;;MAelD,GAAG;QAAA;;QAAA,sBA+CG;MAIL,CAnDD,QAmDS,IAnDT;;MAoDA,IAAM6B,cAAc,GAAG,CACnBxG,MAAM,CAACyG,cADY,EAEnB;QAACpE,KAAK,EAAE,KAAKvB,KAAL,CAAWO;MAAnB,CAFmB,EAGnB,KAAKL,KAAL,CAAWoF,WAAX,CAAuBK,cAHJ,CAAvB;MAKA,OAAO,KAAC,IAAD;QAAoE,KAAK,EAAED,cAA3E;QAAA,UAA4F5B;MAA5F,GAAcC,gBAAgB,CAACe,MAAjB,CAAwB,YAAxB,CAAd,SAAuDxB,SAAvD,CAAP;IACD;;;WAED,mBAAUpD,KAAV,EAAiB;MACf,IAAI,KAAKA,KAAL,CAAWqE,SAAf,EAA0B;QACxB,OAAO,KAAKrE,KAAL,CAAWqE,SAAX,CAAqBrE,KAArB,CAAP;MACD;;MACD,OAAO,KAAC,GAAD,oBAASA,KAAT,EAAP;IACD;;;WAED,yBAAgB;MACd,IAAI0F,QAAQ,GAAG,EAAf;MACA,IAAI/D,CAAC,GAAG,CAAR;;MAEA,KAAKA,CAAL,EAAQA,CAAC,GAAG,CAAZ,EAAe,EAAEA,CAAjB,EAAoB;QAClB,IAAMgE,CAAC,GAAG,CAAChE,CAAC,GAAG,KAAK3B,KAAL,CAAWZ,SAAhB,IAA6B,CAAvC;QACAsG,QAAQ,CAAC7D,IAAT,CACE,KAAC,IAAD;UAEE,KAAK,EAAE8D,CAAC,KAAK,CAAN,IAAWA,CAAC,KAAK,CAAjB,GACL,CAAC3G,MAAM,CAAC4G,cAAR,EAAwB,KAAK5F,KAAL,CAAWoF,WAAX,CAAuBQ,cAA/C,CADK,GAEL,CAAC5G,MAAM,CAAC6G,UAAR,EAAoB,KAAK7F,KAAL,CAAWoF,WAAX,CAAuBS,UAA3C,CAJJ;UAAA,UAMG,KAAK7F,KAAL,CAAW8F,WAAX,CAAuBH,CAAvB;QANH,GACOhE,CADP,CADF;MAUD;;MAED,OACE,KAAC,IAAD;QAAM,KAAK,EAAE,CAAC3C,MAAM,CAAC+G,eAAR,EAAyB,KAAK/F,KAAL,CAAWoF,WAAX,CAAuBW,eAAhD,CAAb;QAAA,UACGL;MADH,EADF;IAKD;;;WAED,wBAAe;MAAA;;MACb,IAAIM,cAAc,GAAG,KAAKhG,KAAL,CAAWiG,UAAX,CAAsB,KAAKnG,KAAL,CAAWC,aAAX,CAAyBZ,KAAzB,EAAtB,CAArB;MACA,OAAO,KAAKa,KAAL,CAAWkG,YAAX,GAEH,MAAC,IAAD;QAAM,KAAK,EAAE,CAAClH,MAAM,CAACmH,gBAAR,EAA0B,KAAKnG,KAAL,CAAWoF,WAAX,CAAuBe,gBAAjD,CAAb;QAAA,WACE,KAAC,gBAAD;UACE,KAAK,EAAE,CAACnH,MAAM,CAACoH,aAAR,EAAuB,KAAKpG,KAAL,CAAWoF,WAAX,CAAuBgB,aAA9C,CADT;UAEE,OAAO,EAAE,KAAK9F,MAFhB;UAAA,UAIE,KAAC,IAAD;YAAM,KAAK,EAAE,CAACtB,MAAM,CAACqH,iBAAR,EAA2B,KAAKrG,KAAL,CAAWoF,WAAX,CAAuBiB,iBAAlD,CAAb;YAAA,UACG,KAAKrG,KAAL,CAAWsG;UADd;QAJF,EADF,EASE,KAAC,gBAAD;UAAkB,KAAK,EAAEtH,MAAM,CAACuH,KAAhC;UAAuC,OAAO,EAAE;YAAA,OAAM,MAAI,CAACvG,KAAL,CAAWwG,YAAX,IAA2B,MAAI,CAACxG,KAAL,CAAWwG,YAAX,EAAjC;UAAA,CAAhD;UAAA,UACE,MAAC,IAAD;YAAM,KAAK,EAAE,CAACxH,MAAM,CAACyH,SAAR,EAAmB,KAAKzG,KAAL,CAAWoF,WAAX,CAAuBmB,KAA1C,CAAb;YAAA,WACGP,cADH,OACoB,KAAKlG,KAAL,CAAWC,aAAX,CAAyB2G,IAAzB,EADpB;UAAA;QADF,EATF,EAcE,KAAC,gBAAD;UACE,KAAK,EAAE,CAAC1H,MAAM,CAACoH,aAAR,EAAuB,KAAKpG,KAAL,CAAWoF,WAAX,CAAuBgB,aAA9C,CADT;UAEE,OAAO,EAAE,KAAKxF,MAFhB;UAAA,UAIE,KAAC,IAAD;YAAM,KAAK,EAAE,CAAC5B,MAAM,CAACqH,iBAAR,EAA2B,KAAKrG,KAAL,CAAWoF,WAAX,CAAuBiB,iBAAlD,CAAb;YAAA,UACG,KAAKrG,KAAL,CAAW2G;UADd;QAJF,EAdF;MAAA,EAFG,GA2BH,KAAC,IAAD;QAAM,KAAK,EAAE,CAAC3H,MAAM,CAACmH,gBAAR,EAA0B,KAAKnG,KAAL,CAAWoF,WAAX,CAAuBe,gBAAjD,CAAb;QAAA,UACE,KAAC,IAAD;UAAM,KAAK,EAAE,CAACnH,MAAM,CAACuH,KAAR,EAAe,KAAKvG,KAAL,CAAWoF,WAAX,CAAuBmB,KAAtC,CAAb;UAAA,UACG,KAAKzG,KAAL,CAAWC,aAAX,CAAyB6E,MAAzB,CAAgC,KAAK5E,KAAL,CAAW4G,WAA3C;QADH;MADF,EA3BJ;IAiCD;;;WAED,kBAAS;MAAA;;MACP,IAAMpB,cAAc,GAAG,CACnBxG,MAAM,CAAC6H,iBADY,EAEnB,KAAK7G,KAAL,CAAWoF,WAAX,CAAuByB,iBAFJ,CAAvB;;MAIA,IAAI,KAAK/G,KAAL,CAAWO,cAAX,IAA6B,IAAjC,EAAuC;QACnC,OAAO,KAAC,IAAD;UAAM,QAAQ,EAAE,KAAKe,iBAArB;UAAwC,KAAK,EAAEoE;QAA/C,EAAP;MACH;;MACD,IAAMsB,aAAa,GAAG,KAAKC,QAAL,CAAc,KAAKjH,KAAL,CAAWC,aAAzB,CAAtB;MACA,IAAMiH,aAAa,GAAG,KAAKC,iBAAL,CAAuB,KAAKjH,KAAL,CAAW8B,UAAlC,EAA8C,KAAK9B,KAAL,CAAW+B,MAAzD,CAAtB;MACA,IAAMmF,UAAU,GAAG,KAAKlH,KAAL,CAAWQ,cAAX,KAA8B,QAA9B,GAAyC,CAAzC,GACjBtB,gBAAgB,CAAC,KAAKY,KAAL,CAAWC,aAAZ,EAA2B,KAAKC,KAAL,CAAWZ,SAAtC,CADlB;MAGA,OACE,MAAC,IAAD;QAAM,QAAQ,EAAE,KAAKgC,iBAArB;QAAwC,KAAK,EAAEoE,cAA/C;QAAA,WACG,KAAK2B,YAAL,EADH,EAEG,KAAKC,aAAL,CAAmB,KAAKpH,KAAL,CAAW4G,WAA9B,CAFH,EAGG,KAAK5G,KAAL,CAAW0B,aAAX,GACC,KAAC,UAAD;UACE,GAAG,EAAE,aAAA2F,QAAQ;YAAA,OAAI,MAAI,CAAC3E,SAAL,GAAiB2E,QAArB;UAAA,CADf;UAEE,UAAU,MAFZ;UAGE,aAAa,MAHf;UAIE,aAAa,MAJf;UAKE,qBAAqB,EAAE,KAAKrH,KAAL,CAAWsH,qBALpC;UAME,mBAAmB,EAAE,IANvB;UAOE,8BAA8B,EAAE,KAPlC;UAQE,gCAAgC,EAAE,KARpC;UASE,mBAAmB,EAAE,6BAACtG,KAAD;YAAA,OAAW,MAAI,CAACuG,WAAL,CAAiBvG,KAAjB,CAAX;UAAA,CATvB;UAUE,KAAK,EAAE;YACLG,MAAM,EAAE,KAAKrB,KAAL,CAAWM,SAAX,GAAuB,KAAKN,KAAL,CAAWM,SAAX,GAAuB8G,UAA9C,GAA2D;UAD9D,CAVT;UAAA,UAcGJ,aAAa,CAACU,GAAd,CAAkB,UAACtF,IAAD;YAAA,OAAU,MAAI,CAACuF,kBAAL,CAAwB,MAAI,CAACzH,KAAL,CAAWQ,cAAnC,EAAmDzB,MAAM,CAACmD,IAAD,CAAzD,EAAiE8E,aAAjE,CAAV;UAAA,CAAlB;QAdH,EADD,GAkBC,KAAC,IAAD;UAAM,GAAG,EAAE,aAAAK,QAAQ;YAAA,OAAI,MAAI,CAAC3E,SAAL,GAAiB2E,QAArB;UAAA,CAAnB;UAAA,UACGP,aAAa,CAACU,GAAd,CAAkB,UAACtF,IAAD;YAAA,OAAU,MAAI,CAACuF,kBAAL,CAAwB,MAAI,CAACzH,KAAL,CAAWQ,cAAnC,EAAmDzB,MAAM,CAACmD,IAAD,CAAzD,EAAiE8E,aAAjE,CAAV;UAAA,CAAlB;QADH,EArBJ;MAAA,EADF;IA4BD;;;;EAzYmCpI,S;;AAAjBiB,Q,CASZ6H,S,GAAY;EACjBjG,YAAY,EAAE5C,SAAS,CAAC8I,GADP;EAEjBvC,WAAW,EAAEvG,SAAS,CAAC+I,MAFN;EAGjB9B,WAAW,EAAEjH,SAAS,CAACgJ,KAHN;EAIjB/F,UAAU,EAAEjD,SAAS,CAACgJ,KAJL;EAKjB5B,UAAU,EAAEpH,SAAS,CAACgJ,KALL;EAMjBlB,cAAc,EAAE9H,SAAS,CAACiJ,SAAV,CAAoB,CAClCjJ,SAAS,CAACkJ,MADwB,EAElClJ,SAAS,CAAC+I,MAFwB,CAApB,CANC;EAUjBjD,YAAY,EAAE9F,SAAS,CAACmJ,IAVP;EAWjBlD,eAAe,EAAEjG,SAAS,CAACmJ,IAXV;EAYjB7E,WAAW,EAAEtE,SAAS,CAACmJ,IAZN;EAajB9E,WAAW,EAAErE,SAAS,CAACmJ,IAbN;EAcjBlH,WAAW,EAAEjC,SAAS,CAACmJ,IAdN;EAejBrH,WAAW,EAAE9B,SAAS,CAACmJ,IAfN;EAgBjBxB,YAAY,EAAE3H,SAAS,CAACmJ,IAhBP;EAiBjB1B,cAAc,EAAEzH,SAAS,CAACiJ,SAAV,CAAoB,CAClCjJ,SAAS,CAACkJ,MADwB,EAElClJ,SAAS,CAAC+I,MAFwB,CAApB,CAjBC;EAqBjBN,qBAAqB,EAAEzI,SAAS,CAACoJ,IArBhB;EAsBjBvG,aAAa,EAAE7C,SAAS,CAACoJ,IAtBR;EAuBjB9H,YAAY,EAAEtB,SAAS,CAAC8I,GAvBP;EAwBjBzB,YAAY,EAAErH,SAAS,CAACoJ,IAxBP;EAyBjB9C,mBAAmB,EAAEtG,SAAS,CAACoJ,IAzBd;EA0BjBhI,SAAS,EAAEpB,SAAS,CAAC8I,GA1BJ;EA2BjBf,WAAW,EAAE/H,SAAS,CAACkJ,MA3BN;EA4BjB3F,KAAK,EAAEvD,SAAS,CAAC8I,GA5BA;EA6BjBvI,SAAS,EAAEP,SAAS,CAACqJ,MA7BJ;EA8BjB1H,cAAc,EAAE3B,SAAS,CAACkJ;AA9BT,C;AATAlI,Q,CA0CZsI,Y,GAAe;EACpB/C,WAAW,EAAE,EADO;EAEpBU,WAAW,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,CAFO;EAGpBhE,UAAU,EAAE,EAHQ;EAIpBmE,UAAU,EAAE,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EACV,KADU,EACH,KADG,EACI,KADJ,EACW,KADX,EACkB,KADlB,EACyB,KADzB,CAJQ;EAMpBU,cAAc,EAAE,MANI;EAOpBL,cAAc,EAAE,MAPI;EAQpBgB,qBAAqB,EAAE,IARH;EASpB5F,aAAa,EAAE,KATK;EAUpBwE,YAAY,EAAE,KAVM;EAWpBf,mBAAmB,EAAE,KAXD;EAYpBlF,SAAS,EAAElB,MAAM,GAAG6F,MAAT,CAAgB,YAAhB,CAZS;EAapBgC,WAAW,EAAE,WAbO;EAcpBxH,SAAS,EAAE,CAdS;EAepBoB,cAAc,EAAE;AAfI,C;SA1CHX,Q"},"metadata":{},"sourceType":"module"}